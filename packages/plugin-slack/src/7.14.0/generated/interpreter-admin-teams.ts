// AUTO-GENERATED by scripts/codegen.ts â€” do not edit

import type { Interpreter, TypedNode } from "@mvfm/core";
import { defineInterpreter, eval_ } from "@mvfm/core";
import type { SLACK_NODE_KINDS_ADMIN_TEAMS } from "./node-kinds-admin-teams";

type SlackAdminTeamsKind = (typeof SLACK_NODE_KINDS_ADMIN_TEAMS)[number];

interface SlackAdminTeamsBaseNode<K extends SlackAdminTeamsKind = SlackAdminTeamsKind>
  extends TypedNode<unknown> {
  kind: K;
  params?: TypedNode<Record<string, unknown>> | null;
  config: { token: string };
}

export interface SlackAdminTeamsAdminsListNode
  extends SlackAdminTeamsBaseNode<"slack/admin_teams_admins_list"> {}
export interface SlackAdminTeamsCreateNode
  extends SlackAdminTeamsBaseNode<"slack/admin_teams_create"> {}
export interface SlackAdminTeamsListNode
  extends SlackAdminTeamsBaseNode<"slack/admin_teams_list"> {}
export interface SlackAdminTeamsOwnersListNode
  extends SlackAdminTeamsBaseNode<"slack/admin_teams_owners_list"> {}
export interface SlackAdminTeamsSettingsInfoNode
  extends SlackAdminTeamsBaseNode<"slack/admin_teams_settings_info"> {}
export interface SlackAdminTeamsSettingsSetDefaultChannelsNode
  extends SlackAdminTeamsBaseNode<"slack/admin_teams_settings_setDefaultChannels"> {}
export interface SlackAdminTeamsSettingsSetDescriptionNode
  extends SlackAdminTeamsBaseNode<"slack/admin_teams_settings_setDescription"> {}
export interface SlackAdminTeamsSettingsSetDiscoverabilityNode
  extends SlackAdminTeamsBaseNode<"slack/admin_teams_settings_setDiscoverability"> {}
export interface SlackAdminTeamsSettingsSetIconNode
  extends SlackAdminTeamsBaseNode<"slack/admin_teams_settings_setIcon"> {}
export interface SlackAdminTeamsSettingsSetNameNode
  extends SlackAdminTeamsBaseNode<"slack/admin_teams_settings_setName"> {}

export const NODE_TO_METHOD_ADMIN_TEAMS: Record<string, string> = {
  "slack/admin_teams_admins_list": "admin.teams.admins.list",
  "slack/admin_teams_create": "admin.teams.create",
  "slack/admin_teams_list": "admin.teams.list",
  "slack/admin_teams_owners_list": "admin.teams.owners.list",
  "slack/admin_teams_settings_info": "admin.teams.settings.info",
  "slack/admin_teams_settings_setDefaultChannels": "admin.teams.settings.setDefaultChannels",
  "slack/admin_teams_settings_setDescription": "admin.teams.settings.setDescription",
  "slack/admin_teams_settings_setDiscoverability": "admin.teams.settings.setDiscoverability",
  "slack/admin_teams_settings_setIcon": "admin.teams.settings.setIcon",
  "slack/admin_teams_settings_setName": "admin.teams.settings.setName",
};

declare module "@mvfm/core" {
  interface NodeTypeMap {
    "slack/admin_teams_admins_list": SlackAdminTeamsAdminsListNode;
    "slack/admin_teams_create": SlackAdminTeamsCreateNode;
    "slack/admin_teams_list": SlackAdminTeamsListNode;
    "slack/admin_teams_owners_list": SlackAdminTeamsOwnersListNode;
    "slack/admin_teams_settings_info": SlackAdminTeamsSettingsInfoNode;
    "slack/admin_teams_settings_setDefaultChannels": SlackAdminTeamsSettingsSetDefaultChannelsNode;
    "slack/admin_teams_settings_setDescription": SlackAdminTeamsSettingsSetDescriptionNode;
    "slack/admin_teams_settings_setDiscoverability": SlackAdminTeamsSettingsSetDiscoverabilityNode;
    "slack/admin_teams_settings_setIcon": SlackAdminTeamsSettingsSetIconNode;
    "slack/admin_teams_settings_setName": SlackAdminTeamsSettingsSetNameNode;
  }
}

interface SlackClientLike {
  apiCall(method: string, params?: Record<string, unknown>): Promise<unknown>;
}

export function createSlackAdminTeamsInterpreter(client: SlackClientLike): Interpreter {
  const handler = async function* (node: SlackAdminTeamsBaseNode) {
    const method = NODE_TO_METHOD_ADMIN_TEAMS[node.kind];
    if (!method) throw new Error(`Slack interpreter: unknown node kind "${node.kind}"`);
    const params = node.params != null ? yield* eval_(node.params) : undefined;
    return await client.apiCall(method, params);
  };

  return defineInterpreter<SlackAdminTeamsKind>()({
    "slack/admin_teams_admins_list": async function* (node: SlackAdminTeamsAdminsListNode) {
      return yield* handler(node);
    },
    "slack/admin_teams_create": async function* (node: SlackAdminTeamsCreateNode) {
      return yield* handler(node);
    },
    "slack/admin_teams_list": async function* (node: SlackAdminTeamsListNode) {
      return yield* handler(node);
    },
    "slack/admin_teams_owners_list": async function* (node: SlackAdminTeamsOwnersListNode) {
      return yield* handler(node);
    },
    "slack/admin_teams_settings_info": async function* (node: SlackAdminTeamsSettingsInfoNode) {
      return yield* handler(node);
    },
    "slack/admin_teams_settings_setDefaultChannels": async function* (
      node: SlackAdminTeamsSettingsSetDefaultChannelsNode,
    ) {
      return yield* handler(node);
    },
    "slack/admin_teams_settings_setDescription": async function* (
      node: SlackAdminTeamsSettingsSetDescriptionNode,
    ) {
      return yield* handler(node);
    },
    "slack/admin_teams_settings_setDiscoverability": async function* (
      node: SlackAdminTeamsSettingsSetDiscoverabilityNode,
    ) {
      return yield* handler(node);
    },
    "slack/admin_teams_settings_setIcon": async function* (
      node: SlackAdminTeamsSettingsSetIconNode,
    ) {
      return yield* handler(node);
    },
    "slack/admin_teams_settings_setName": async function* (
      node: SlackAdminTeamsSettingsSetNameNode,
    ) {
      return yield* handler(node);
    },
  });
}
