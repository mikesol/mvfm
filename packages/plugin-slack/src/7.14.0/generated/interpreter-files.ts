// AUTO-GENERATED by scripts/codegen.ts â€” do not edit

import type { Interpreter, RuntimeEntry } from "@mvfm/core";

export const NODE_TO_METHOD_FILES: Record<string, string> = {
  "slack/files_completeUploadExternal": "files.completeUploadExternal",
  "slack/files_delete": "files.delete",
  "slack/files_getUploadURLExternal": "files.getUploadURLExternal",
  "slack/files_info": "files.info",
  "slack/files_list": "files.list",
  "slack/files_revokePublicURL": "files.revokePublicURL",
  "slack/files_sharedPublicURL": "files.sharedPublicURL",
  "slack/files_upload": "files.upload",
  "slack/files_comments_delete": "files.comments.delete",
  "slack/files_remote_add": "files.remote.add",
  "slack/files_remote_info": "files.remote.info",
  "slack/files_remote_list": "files.remote.list",
  "slack/files_remote_remove": "files.remote.remove",
  "slack/files_remote_share": "files.remote.share",
  "slack/files_remote_update": "files.remote.update",
};

interface SlackClientLike {
  apiCall(method: string, params?: Record<string, unknown>): Promise<unknown>;
}

export function createSlackFilesInterpreter(client: SlackClientLike): Interpreter {
  const handlers: Interpreter = {};

  for (const [kind, method] of Object.entries(NODE_TO_METHOD_FILES)) {
    handlers[kind] = async function* (entry: RuntimeEntry) {
      const params = entry.children.length > 0 ? yield 0 : undefined;
      return await client.apiCall(method, params as Record<string, unknown>);
    };
  }

  return handlers;
}
