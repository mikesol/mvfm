// AUTO-GENERATED by scripts/codegen.ts â€” do not edit

import type { Interpreter, RuntimeEntry } from "@mvfm/core";

export const NODE_TO_METHOD_USERS: Record<string, string> = {
  "slack/users_conversations": "users.conversations",
  "slack/users_deletePhoto": "users.deletePhoto",
  "slack/users_discoverableContacts_lookup": "users.discoverableContacts.lookup",
  "slack/users_getPresence": "users.getPresence",
  "slack/users_identity": "users.identity",
  "slack/users_info": "users.info",
  "slack/users_list": "users.list",
  "slack/users_lookupByEmail": "users.lookupByEmail",
  "slack/users_setPhoto": "users.setPhoto",
  "slack/users_setPresence": "users.setPresence",
  "slack/users_profile_get": "users.profile.get",
  "slack/users_profile_set": "users.profile.set",
};

interface SlackClientLike {
  apiCall(method: string, params?: Record<string, unknown>): Promise<unknown>;
}

export function createSlackUsersInterpreter(client: SlackClientLike): Interpreter {
  const handlers: Interpreter = {};

  for (const [kind, method] of Object.entries(NODE_TO_METHOD_USERS)) {
    handlers[kind] = async function* (entry: RuntimeEntry) {
      const params = entry.children.length > 0 ? yield 0 : undefined;
      return await client.apiCall(method, params as Record<string, unknown>);
    };
  }

  return handlers;
}
